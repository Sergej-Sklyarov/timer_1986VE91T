#
#  Timer1986
#
#  file : README
#
#  Created on: 14 yan. 2015.
#      Author: Sergey S.Sklyarov (kirra)
#
#

Расчёт значений MDR_TIMERx->PSG и MDR_TIMERx->ARR для таймера в К1986ВЕ91Т (Режим совпадения).

Пример использования:
/**
 * Тактовая частота MCU: 80 МГц
 * Предделитель: 16
 * Делитель основного счёта: 1
 * Желаемое время до срабатывания таймера: 1 сек
 */

void Timer_Init(void)
{
  MDR_RST_CLK->PER_CLOCK |= 1 << 14;
  MDR_RST_CLK->TIM_CLOCK = ( 0 |(1 << 24));

  MDR_TIMER1->PSG = 0xf;
  MDR_TIMER1->ARR = 0x4c4b3f;

  MDR_TIMER1->IE = (1 << 1);
  MDR_TIMER1->CNTRL = 1;
  NVIC_EnableIRQ(Timer1_IRQn);

}

void Timer1_IRQHandler(void)
{

  /** Исполняемый код */

  MDR_TIMER1->CNT = 0x0000;
  MDR_TIMER1->STATUS &= ~(1 << 1);
  NVIC_ClearPendingIRQ(Timer1_IRQn);
}

################################################################################

compile.sh - компиляция программы. Требуются пакеты libgtk+-3.0 и valac-0.22

install.sh/uninstall.sh - установка/удаление программы (копируется/удаляется в/из /usr/local/bin ).

#
#  End file README
#
